webpackJsonp([21],{QPnN:function(e,t){},xEGI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("zKIC"),r={name:"abnormalsubmit",data:function(){return{activeName:"first",palletCodeScra:"",palletCodeNOK:"",PalletCode:"",NOKSequenceNumber:[],NOKSequenceTable:[],ScrappedSequenceNumber:[],ScrappedTable:[]}},mounted:function(){var e="",t=this;document.onkeydown=function(){if(13!==event.keyCode){var a=event.key;"Shift"!==a&&(e+=a)}else if("first"==t.activeName){var l=e.split("@");"QRPART"==l[0]?(t.palletCodeNOK=l[1],t.dealData(l[1])):(l[0],t.palletCodeNOK=l[1]),e="",l=[]}else{var r=e.split("@");"QRPART"==r[0]?(t.palletCodeScra=r[1],t.dealData(r[1])):(r[0],t.palletCodeScra=r[1]),e="",r=[]}}},methods:{goBack:function(){this.$router.push("/abnormal")},submit_interaction_ng_report:function(){var e=this;Object(l.t)({NOKSequenceNumber:this.NOKSequenceNumber,ScrappedSequenceNumber:this.ScrappedSequenceNumber},{PalletCode:"",MaterialCode:""}).then(function(t){""==t.name?e.$notify({title:"提示",type:"success",message:"操作成功",position:"bottom-right",duration:"5000"}):e.$notify({title:"提示",type:"error",message:t.message,position:"bottom-right",duration:"5000"})})},dealData:function(e){if("first"==this.activeName){for(var t=!1,a=0;a<this.NOKSequenceTable.length;a++)e==this.NOKSequenceTable[a].sequence&&(t=!0);if(0==t||0==this.NOKSequenceTable.length){var l=e.split("MB");if(!l)return void this.$notify({title:"提示",type:"error",message:"扫码错误",position:"bottom-right",duration:"5000"});this.NOKSequenceTable.push({sequence:e}),this.NOKSequenceNumber.push(l[1])}}else{for(var r=!1,n=0;n<this.ScrappedTable.length;n++)e==this.ScrappedTable[n].sequence&&(r=!0);if(0==r||0==this.ScrappedTable.length){var s=e.split("MB");if(!s)return void this.$notify({title:"提示",type:"error",message:"扫码错误",position:"bottom-right",duration:"5000"});this.ScrappedTable.push({sequence:e}),this.ScrappedSequenceNumber.push(s[1])}}},cancelItemNOK:function(e,t){this.NOKSequenceTable.splice(e,1)},cancelItemScrap:function(e,t){this.ScrappedTable.splice(e,1)},handleClick:function(e,t){}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"page-header"},[a("el-page-header",{attrs:{content:"详情页面"},on:{back:e.goBack}})],1),e._v(" "),a("el-row",{staticStyle:{padding:"10px"},attrs:{gutter:20}},[a("el-card",{staticStyle:{padding:"10px"},attrs:{shadow:"never"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"不良品",name:"first"}},[a("el-row",{staticStyle:{padding:"10px"},attrs:{gutter:20}},[a("el-card",{staticStyle:{padding:"10px"},attrs:{shadow:"never"}},[a("el-row",[a("el-col",{attrs:{span:20,xs:24}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入部件序列号"},model:{value:e.palletCodeNOK,callback:function(t){e.palletCodeNOK=t},expression:"palletCodeNOK"}})],1)],1)],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:4,xs:24}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_interaction_ng_report()}}},[e._v("提交")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:6}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.NOKSequenceTable,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"sequence",label:"部件条码（不良品）"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.cancelItemNOK(t.$index,t.row)}}},[e._v("取消")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"报废",name:"second"}},[a("el-row",{staticStyle:{padding:"10px"},attrs:{gutter:20}},[a("el-card",{staticStyle:{padding:"10px"},attrs:{shadow:"never"}},[a("el-row",[a("el-col",{attrs:{span:20,xs:24}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入部件序列号"},model:{value:e.palletCodeScra,callback:function(t){e.palletCodeScra=t},expression:"palletCodeScra"}})],1)],1)],1),e._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:4,xs:24}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_interaction_ng_report()}}},[e._v("提交")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:6}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.ScrappedTable,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"sequence",label:"部件条码（报废）"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.cancelItemScrap(t.$index,t.row)}}},[e._v("取消")])]}}])})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(r,n,!1,function(e){a("QPnN")},"data-v-5238efe8",null);t.default=s.exports}});
//# sourceMappingURL=21.d08745728ee250faf119.js.map